# CanSniffer

CAN sniffer

Проект базируется на отладочной палте NUCLEO-F443RE (STM32F446RET6)

Использована HAL библеотека STM32CubeF4 Firmware Package V1.25.0 / 12-February-2020

На данном этапе реализован комбинированный USB интерфейс.

## Описание периферии

### USB

В проекте используется комбинированный CDC интерфейс (Multiple CDC).

Используется внутренний Phy, по этому скорость по HS usb будет не более 12 mbit/s.

Собрать проект можно как и c использованием FS USB OTG так и с HS USB OTG.

***Максимальный размер пакета для передачи за один раз = 64 байт.***

Для обхода этого ограничения в проекте используются кольцевые буфферы.

Это позволяет работать с интерфейсами независимо от размера передаваемых данных.

Количество передаваемых и принимаемых данных будет ограничено размерами соответствующих кольцевых буфферов.

***В режиме FS USB OTG доступно 6 эндпоинтов usb. Доступно максимум 2 интерфейса.***

***В режиме HS USB OTG доступно 8 эндпоинтов usb. Доступно максимум 3 интерфейса.***

#### Пины

##### Для HS USB OTG
- DM - PB14
- DP - PB15

##### Для FS USB OTG
- DM - PA11
- DP - PA12
